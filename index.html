<!-- 3ì¼ì°¨ íˆ¬ë‘ ë¦¬ìŠ¤íŠ¸ ë§Œë“¤ê¸°-->

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TO DO LIST</title>
</head>
<body style="text-align: center;">
   
    <div class="w3-panel" style="border: 1px solid #ccc; padding: 0px; display: inline-block;">
        <h2> ğŸ“TO DO LIST </h2>
        
        <!-- ì „ì²´/í•´ê²°/ë¯¸í•´ê²° ë¶€ë¶„ showlistë¥¼ ì‚¬ìš©í•´ì„œ í´ë¦­ ì‹œ ë³¼ ìˆ˜ ìˆê²Œ -->
        <button type="button" onclick="showList('all')" style='background-color: skyblue'>ì „ì²´</button>
        <button type="button" onclick="showList('resolved')" style='background-color: skyblue'>ì™„ë£Œ</button>
        <button type="button" onclick="showList('unresolved')" style='background-color: skyblue'>ë¯¸ì™„ë£Œ</button>
        <br>
        
        <!-- í•  ì¼ ì…ë ¥ ì¸í’‹:inputtodo // ì¶”ê°€í•˜ëŠ” ë²„íŠ¼:add-->
        <input type="text" id="inputtodo" placeholder="ì—¬ê¸°ì— í• ì¼ì„ ì…ë ¥">
        <button type="button" onclick="add()" style='background-color: white'>â•</button>
        <br>
        
        <!-- ìš°ì„ ìˆœìœ„ ë¶€ë¶„ :ranked-->
        <label>
            <input type="radio" name="ranked" value="ë‚®ìŒ">ë‚®ìŒ
        </label>
        <label>
            <input type="radio" name="ranked" value="ë³´í†µ">ë³´í†µ
        </label>
        <label>
            <input type="radio" name="ranked" value="ë†’ìŒ">ë†’ìŒ
        </label>
        <label>
            <input type="radio" name="ranked" value="ì•„ì£¼ ë†’ìŒ">ì•„ì£¼ ë†’ìŒ
        </label>
        <hr>
        
        <!-- ì¶”ê°€ëœ ë¶€ë¶„ -->
        <h4>âœï¸LIST</h4>
        <div id='listContainer'></div>
         </div>


    <script>
        // í•  ì¼ ëª©ë¡
        const todoList = [];

        // í•  ì¼ ì¶”ê°€ 
        function add() {
            const inputtodo = document.getElementById('inputtodo').value; //ì…ë ¥í•œ ë¶€ë¶„
            const radio = document.querySelector('input[name="ranked"]:checked'); //ìš°ì„ ìˆœìœ„
            const isResolved = false; 

            //ì…ë ¥ê³¼ ìš°ì„ ìˆœìœ„ ì„ íƒ ì‹œ ë³´ì—¬ì§€ëŠ” ë¶€ë¶„
            if (inputtodo && radio) {
                const radioValue = radio.value;
                const todoItem = {
                    content: inputtodo, //ì…ë ¥
                    priority: radioValue, //ì„ íƒ
                    resolved: isResolved //ì „ì²´/í•´ê²°/ë¯¸í•´ê²° ë¶€ë¶„ 
                };
                todoList.push(todoItem);
                showList('all'); // ë¦¬ìŠ¤íŠ¸ ê°±ì‹ 
            } 
        }

        // í•  ì¼ ìˆ˜ì • -->> ì´ê±´ ì±—ì§€í”¼í‹° ì‚¬ìš©...
        function edit(index) {
            const content = todoList[index].content;
            const priority = todoList[index].priority;

            const newText = prompt('ìˆ˜ì •í•  ë‚´ìš©:', content);
            if (newText !== null) {
                const newPriority = prompt('ìˆ˜ì •í•  ìš°ì„ ìˆœìœ„', priority);
                if (newPriority !== null) {
                    todoList[index].content = newText;
                    todoList[index].priority = newPriority;
                    showList('all'); // ë¦¬ìŠ¤íŠ¸ ê°±ì‹ 
                }
            }
        }

        //ì‚­ì œ ë¶€ë¶„
        function remove(index) {
            todoList.splice(index, 1); // ë°°ì—´ì—ì„œ í•´ë‹¹ ì¸ë±ìŠ¤ì˜ í•­ëª© ì œê±°
            showList('all'); // ë¦¬ìŠ¤íŠ¸ ê°±ì‹ 
        }

        // í•  ì¼ ëª©ë¡ showlist
        function showList(filter) { //ë¦¬ìŠ¤íŠ¸ì»¨í…Œì´ë„ˆê°€ í™”ë©´ì— ë³´ì—¬ì§€ëŠ” ë¶€ë¶„
            const listContainer = document.getElementById('listContainer');
            listContainer.innerHTML = ''; 

            //í•„í„°ë¦¬ìŠ¤íŠ¸ê°€ ì „ì²´/í•´ê²°/ë¯¸í•´ê²° ë¶€ë¶„
            let filteredList = todoList;
            if (filter === 'resolved') {
                filteredList = todoList.filter(item => item.resolved);
            } else if (filter === 'unresolved') {
                filteredList = todoList.filter(item => !item.resolved);
            }

            // í• ì¼ ì…ë ¥í•  ë•Œë§ˆë‹¤ ë°‘ì— ì¶”ê°€ë¨
            filteredList.forEach((item, index) => {
                const checkboxId = `checkbox_${index}`;
                const listItem = document.createElement('div');
                listItem.innerHTML = `
                    <input type="checkbox" id="${checkboxId}" onchange="toggleResolve(${index})" ${item.resolved ? 'checked' : ''}>
                    <label for="${checkboxId}">
                    <span style='color:red;'>${item.priority}</span> - ${item.content}
                    </label>

                    <button type="button" onclick="edit(${index})">âœï¸</button>
                    <button type="button" onclick="remove(${index})">ğŸ—‘ï¸</button>
                `;
                listContainer.appendChild(listItem);
            });
        }

        //ì—¬ê¸°ê°€ ì™„ë£Œ/ë¯¸ì™„ë£Œ í•„í„°ë¶€ë¶„
        function toggleResolve(index) {
            todoList[index].resolved = !todoList[index].resolved;
            showList('all'); // ë¦¬ìŠ¤íŠ¸ ê°±ì‹ 
        }
    </script>
</body>
</html>
